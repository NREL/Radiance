.\" RCSid "$Id$"
.TH PCOMPOS 1 12/18/97 RADIANCE
.SH NAME
pcompos - composite RADIANCE pictures.
.SH SYNOPSIS
.B pcompos
[
.B \-h
][
.B "\-x xres"
][
.B "\-y yres"
][
.B "\-b r g b"
][
.B "\-lh h"
][
.B \-la
]
[
.B "\-t min1"
][
.B "\+t max1"
][
.B "\-l lab"
][
.B "=SS"
]
.B "pic1 x1 y1 .."
.br
or
.br
.B pcompos
[
.B "\-a ncols"
][
.B "\-s spacing"
][
.B "\-o x0 y0"
][
options
]
.B "pic1 pic2 .."
.SH DESCRIPTION
.I Pcompos
arranges and composites RADIANCE pictures and sends the result to the
standard output.
Each input picture must be accompanied by an anchor point (unless the
.I \-a
option is used, see below).
This anchor point is the usually position of the picture's
left lower corner in the final output, but can be changed
for individual pictures with an 
.I =SS
option, where
.I S
is one of '-', '+' or '0', indicating the minimum, maximum or center
of the image, respectively.
(For example,
.I =+-
would indicate the anchor is relative to the right lower corner, and
.I =-0
would indicate the anchor is relative to the center of the left
edge.)\0
Negative anchor coordinates result in the input being cropped at the origin.
By default, the size of the output picture will be just large enough
to encompass all the input files.
By specifying a smaller dimension using the
.I \-x
and
.I \-y
options, input files can be cropped at the upper boundary.
Specifying a larger dimension produces a border.
The
.I \-b
option specifies a background color to appear wherever input
files do not cover.
The default value is black (0 0 0).
The
.I \-h
option may be used to reduce the information header size, which
can grow disproportionately after multiple runs of
.I pcompos
and/or
.I pcomb(1).
.PP
If input files overlap, later pictures will overwrite earlier ones.
By default, input files are copied unconditionally within the output
boundaries.
The
.I \-t
option specifies a lower threshold intensity under which input pixels
will not be copied to the output.
The
.I \+t
option specifies an upper threshold.
These options are useful for cutting around irregular boundaries in
the input.
.PP
The
.I \-l
option can be used to specify a label for a specific picture, which
will be given a height determined by the
.I \-lh
option (default 24 pixels) and placed in the upper left corner of
the picture.
This label is generated by the program
.I psign(1).
The
.I \-la
option instructs
.I pcompos
to label each picture automatically by its name.
This is particularly useful in conjunction with the
.I \-a
option for producing a catalog of images (see example below).
The
.I \-l
option may still be used to override the default label
for a picture.
.PP
The
.I \-a
option can be used to automatically compute anchor points
that place successive pictures next to each other in
.I ncols
columns.
The ordering will place the first picture in the lower left corner,
the next just to the right of it, and so on for
.I ncols
pictures.
Then, the next row up repeats the pattern until all the input
pictures have been added to the output.
If the pictures are of different size,
.I pcompos
will end up leaving some background areas in the output picture.
There will also be an unfinished row at the top if the number
of pictures is not evenly divided by
.I ncols.
The
.I "\-s N"
option will cause each image to be separated by at least N pixels.
The
.I "\-o x0 y0"
option specifies a nonzero anchor point for the bottom left image.
If a negative value is given for ncols, then the rows are reversed,
so they start from the top rather than the bottom.
This gives a more natural ordering in most cases, but has the
side-effect of moving any labels from the upper-left of each placed
subimage to the lower-left.
Also, the
.I \-o
option is interpreted differently, where the y0 value is number of
pixels from the top (rather than the bottom).
.PP
The standard input can be specified with a hyphen ('-').
A command that produces a RADIANCE picture can be given in place of a file 
by preceeding it with an exclamation point ('!').
.SH EXAMPLE
To put a copyright label at the bottom of a picture:
.IP "" .2i
psign Copyright 1987 | pcompos inp.hdr 0 0 +t .5 - 384 64 > out.hdr
.PP
To make a catalog of images separated by white 10-pixel borders and
ordered four images per row starting from the top-left:
.IP "" .2i
pcompos -la -a -4 -s 10 -b 1 1 1 dog*.hdr > alldogs.hdr
.SH NOTES
Since there is a limit to the number of open files and processes,
large collections of images must be created in stages.
Even if the system limit on open files is large,
.I pcompos
places an artificial limit of 1024 on the number of open files and/or
processes.
.SH AUTHOR
Greg Ward
.SH "SEE ALSO"
getinfo(1), pcomb(1), pfilt(1), psign(1), rpict(1)
